!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash/isElement"),require("lodash/isArray"),require("lodash/includes"),require("lodash/isFunction"),require("@djforth/cookie_mgmt_fp")):"function"==typeof define&&define.amd?define(["exports","lodash/isElement","lodash/isArray","lodash/includes","lodash/isFunction","@djforth/cookie_mgmt_fp"],t):t(e.MorseUtils={},e._isElement,e._isArray,e._includes,e._isFunction,e.CookieMgmt)}(this,function(e,t,r,n,o,u){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o,u=u&&u.hasOwnProperty("default")?u.default:u;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(e,n){var o={Array:r,Boolean:function(e){return"boolean"==typeof e},Element:t,Number:function(e){return"number"==typeof e},String:function(e){return"string"==typeof e}};if(!o.hasOwnProperty(e))return!1;var u=function(e,t){switch(e){case"Element":return document.getElementById(t);case"String":return t;default:try{return JSON.parse(t)}catch(e){return null}}}(e,n);return(0,o[e])(u)},l=function(e){return function(t){var r,o;return!!t.attributes&&(!!function(e){return e.reduce(function(e,t){return!!e||(t.nodeName?!!t.nodeName.match(/data/):e)},!1)}(Array.prototype.slice.call(t.attributes))&&(r=Object.keys(t.dataset),(o=Object.keys(e).reduce(function(e,t){return!!e&&n(r,t)},!0))?Object.entries(e).reduce(function(e,r){var n=a(r,2),o=n[0],u=n[1];return e?i(u,t.dataset[o]):e},!0):o))}};function d(e,r){if(!t(e))return null;var n=e.parentNode||document.body;return t(n)?(n.removeChild(e),void(o(r)&&r(e))):null}module.exports=e.default,module.exports=e.default;module.exports=e.default;module.exports=e.default;module.exports=e.default;var c=function(e){return{close:document.getElementById(e.dataset.closeModal),lastFocus:document.activeElement,modal:document.getElementById(e.dataset.modal)}};module.exports=e.default;var s=function(e,t){return t===document.body?null:e(t.parentNode)?t.parentNode:t.parentNode===document.body?null:s(e,t.parentNode)},f=function(e){return function(t){var r=t.target;e.forEach(function(e){var n=e.check,o=e.trigger;if(n(r))o(r,t);else{var u=s(n,r);u&&o(u,t)}})}};module.exports=e.default;var m=function(){var e=u("alerts"),t=e.getValue()?JSON.parse(e.getValue()):[];return 0<t.length&&function(e){e.forEach(function(e){d(document.getElementById(e))})}(t),{check:l({alert:"Element"}),trigger:function(r,n){n.preventDefault();var o=r.dataset.alert;d(document.getElementById(r.dataset.alert)),t.push(o),e.createCookie(JSON.stringify(t),365)}}},y=function(){var e=u("alerts");return{check:l({alertsreset:"Boolean"}),trigger:function(t,r){r.preventDefault(),e.deleteCookie()}}},p=function(e){var t=u("permission");return t.getValue()&&d(document.getElementById(e)),{check:l({cookiebar:"Element"}),trigger:function(e,r){r.preventDefault(),d(document.getElementById(e.dataset.cookiebar)),t.createCookie(!0,365)}}},v=function(){var e=document.querySelector("[data-modal]");if(e){var t=c(e).modal;t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("role","dialog")}return{check:l({modal:"Element",closeModal:"Element"}),trigger:function(e,t){t.preventDefault();var r=c(e),n=r.close,o=r.lastFocus,u=r.modal;(function(e){e.setAttribute("aria-hidden","false"),e.setAttribute("tabindex","0"),e.focus()})(u),function(e,t){e.addEventListener("click",t)}(n,function(e,t){return function(r){r.preventDefault(),r.target.removeEventListener("click",r.target),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),t.focus()}}(u,o))}}},h=function(e){if(!r)throw new Error("Must be array");var t=f(e);return document.body.addEventListener("click",t,!1),function(){document.body.removeEventListener("click",t,!1)}};e.AlertClose=m,e.AlertReset=y,e.Cookiebar=p,e.Modal=v,e.EventListener=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
