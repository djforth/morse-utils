!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash/isElement"),require("lodash/isArray"),require("lodash/includes"),require("@djforth/cookie_mgmt_fp"),require("lodash/isFunction")):"function"==typeof define&&define.amd?define(["exports","lodash/isElement","lodash/isArray","lodash/includes","@djforth/cookie_mgmt_fp","lodash/isFunction"],t):t((e=e||self).MorseUtils={},e._isElement,e._isArray,e._includes,e.CookieMgmt,e._isFunction)}(this,function(e,o,a,i,n,u){"use strict";function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i,n=n&&n.hasOwnProperty("default")?n.default:n,u=u&&u.hasOwnProperty("default")?u.default:u;var d=function(e,t){var r={Array:a,Boolean:function(e){return"boolean"==typeof e},Element:o,Number:function(e){return"number"==typeof e},String:function(e){return"string"==typeof e}};if(!r.hasOwnProperty(e))return!1;var n=function(e,t){switch(e){case"Element":return document.getElementById(t);case"String":return t;default:try{return JSON.parse(t)}catch(e){return null}}}(e,t);return(0,r[e])(n)},s=function(n){return function(a){var r,e;if(!a&&!a.attributes)return!1;var t=l(a.attributes);return!!t.reduce(function(e,t){return!!e||(t.nodeName?!!t.nodeName.match(/data/):e)},!1)&&(r=Object.keys(a.dataset),(e=Object.keys(n).reduce(function(e,t){return!!e&&i(r,t)},!0))?Object.entries(n).reduce(function(e,t){var r=c(t,2),n=r[0],o=r[1];return e?d(o,a.dataset[n]):e},!0):e)}};function f(e,t){if(!o(e))return null;var r=e.parentNode||document.body;if(!o(r))return null;r.removeChild(e),u(t)&&t(e)}var m=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(e.setAttribute("aria-hidden","true"),t&&f(e))},v=function(e){var t=e.dataset.alert;return{alert:document.getElementById(t),id:t}},r=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"alerts",t=n(e),r=t.getValue()?JSON.parse(t.getValue()):[];return{cookie:t,closed:r}},g=function(){return l(document.querySelectorAll("[data-alert]")).map(function(e){var t=v(e),r=t.alert,n=t.id;return m(r),n})},y=function(e){return function(o){var a=o.target;e.forEach(function(e){var t=e.check,r=e.trigger;if(t(a))r(a,o);else{var n=function e(t,r){return r===document.body?null:t(r.parentNode)?r.parentNode:r.parentNode===document.body?null:e(t,r.parentNode)}(t,a);n&&r(n,o)}})}};var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,h=(b||p||Function("return this")()).Symbol;var E=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},A=Array.isArray,k=Object.prototype,j=k.hasOwnProperty,O=k.toString,w=h?h.toStringTag:void 0;var S=function(e){var t=j.call(e,w),r=e[w];try{var n=!(e[w]=void 0)}catch(e){}var o=O.call(e);return n&&(t?e[w]=r:delete e[w]),o},C=Object.prototype.toString;var B=function(e){return C.call(e)},I=h?h.toStringTag:void 0;var L=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":I&&I in Object(e)?S(e):B(e)};var N=function(e){return null!=e&&"object"==typeof e};var x=function(e){return"symbol"==typeof e||N(e)&&"[object Symbol]"==L(e)},M=1/0,_=h?h.prototype:void 0,D=_?_.toString:void 0;var P=function e(t){if("string"==typeof t)return t;if(A(t))return E(t,e)+"";if(x(t))return D?D.call(t):"";var r=t+"";return"0"==r&&1/t==-M?"-0":r};var q=function(e){return null==e?"":P(e)},T=0;var F=function(e){var t=++T;return q(e)+t},V=function(e){return{close:document.getElementById(e.dataset.closeModal),lastFocus:document.activeElement,modal:document.getElementById(e.dataset.modal)}},R=function(e,t){return document.getElementById(e.dataset[t])};e.AlertClose=function(e){var t=r(e),a=t.cookie,i=t.closed;return 0<i.length&&function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e.forEach(function(e){f(document.getElementById(e),t)})}(i),{check:s({alert:"Element"}),trigger:function(e,t){t.preventDefault(),e.setAttribute("aria-pressed","true");var r=v(e),n=r.alert,o=r.id;m(n,!1),i.push(o),a.createCookie(JSON.stringify(i),365)}}},e.AlertReset=function(){var r=n("alerts");return{check:s({alertsReset:"Boolean"}),trigger:function(e,t){t.preventDefault(),r.deleteCookie(),document.location.reload()}}},e.AlertsClear=function(e){var t=r(e),n=t.cookie,o=t.closed;return 0<o.length&&g(),{check:s({alertsClear:"Boolean"}),trigger:function(e,t){t.preventDefault();var r=o.concat(g());n.createCookie(JSON.stringify(r),365)}}},e.Checker=s,e.Cookiebar=function(e){var r=n("permission");return r.getValue()&&f(document.getElementById(e)),{check:s({cookiebar:"Element"}),trigger:function(e,t){t.preventDefault(),f(document.getElementById(e.dataset.cookiebar)),console.log("create"),r.createCookie(!0,365)}}},e.EventListener=function(e){if(!a)throw new Error("Must be array");var t=y(e);return document.body.addEventListener("click",t,!1),function(){document.body.removeEventListener("click",t,!1)}},e.ImageViewer=function(){return{check:s({imageViewer:"Boolean"}),trigger:function(e,t){t.preventDefault(),e.focus();var r,n={alt:(r=e).getAttribute("alt"),imageLarge:r.dataset.imageLarge,modalClass:r.dataset.modalClass},o=n.alt,a=n.imageLarge,i=n.modalClass,u=F("imageViewer");document.body.insertAdjacentHTML("beforeend",function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=3<arguments.length?arguments[3]:void 0;return'<section class="modal-overlay '.concat(r,'" id="').concat(t,'" aria-hidden="false" role="dialog" tabindex="1">\n    <div class="modal-content">\n      <button id="').concat(t,'-close" class="close-btn clearfix">x</button>\n      <div class="modal-content-image">\n        <img src="').concat(e,'" alt="').concat(n,'" />\n      </div>\n    </div>\n  </section>')}(a,u,i,o));var c=document.getElementById(u);c.focus();var l,d,s,f=document.getElementById("".concat(u,"-close"));d=c,s=e,l=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1"),d.parentElement.removeChild(d),s.focus()},f.addEventListener("click",l)}}},e.Modal=function(){var e=document.querySelector("[data-modal]");if(e){var t=V(e).modal;t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("role","dialog")}return{check:s({modal:"Element",closeModal:"Element"}),trigger:function(e,t){t.preventDefault();var r,n,o,a,i=V(e),u=i.close,c=i.lastFocus,l=i.modal;(r=l).setAttribute("aria-hidden","false"),r.setAttribute("tabindex","0"),r.focus(),o=l,a=c,n=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),o.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),a.focus()},u.addEventListener("click",n)}}},e.MoreLess=function(){return{check:s({more:"Element",less:"Element"}),trigger:function(e,t){t.preventDefault();var r,n,o=R(e,"more"),a=R(e,"less"),i=(n="true"===(r=e).getAttribute("aria-pressed"),r.setAttribute("aria-pressed",!n),r.textContent=n?"Read More":"Read Less",n);o.setAttribute("aria-hidden",i),a.setAttribute("aria-hidden",!i)}}},e.RemoveElement=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
