!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@djforth/cookie_mgmt_fp")):"function"==typeof define&&define.amd?define(["exports","@djforth/cookie_mgmt_fp"],t):t((e=e||self).MorseUtils={},e.CookieMgmt)}(this,function(e,r){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r=r&&r.hasOwnProperty("default")?r.default:r;var u=function(e,t){var n={Array:Array.isArray,Boolean:function(e){return"boolean"==typeof e},Element:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return e instanceof Element}),Number:function(e){return"number"==typeof e},String:function(e){return"string"==typeof e}};if(!n.hasOwnProperty(e))return!1;var r=function(e,t){switch(e){case"Element":return document.getElementById(t);case"String":return t;default:try{return JSON.parse(t)}catch(e){return null}}}(e,t);return(0,n[e])(r)},c=function(r){return function(a){var n,e;if(!a&&!a.attributes)return!1;var t=o(a.attributes);return!!t.reduce(function(e,t){return!!e||(t.nodeName?!!t.nodeName.match(/data/):e)},!1)&&(n=Object.keys(a.dataset),(e=Object.keys(r).reduce(function(e,t){return!!e&&n.includes(t)},!0))?Object.entries(r).reduce(function(e,t){var n=i(t,2),r=n[0],o=n[1];return e?u(o,a.dataset[r]):e},!0):e)}},a=function(e){return e instanceof Element};function l(e,t){if(!a(e))return null;var n=e.parentNode||document.body;if(!a(n))return null;n.removeChild(e),"function"==typeof cb&&t(e)}var d=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e&&(e.setAttribute("aria-hidden","true"),e.style.display="none",t&&l(e))},s=function(e){var t=e.dataset.alert;return{alert:document.getElementById(t),id:t}},n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"alerts",t=r(e),n=t.getValue()?JSON.parse(t.getValue()):[];return{cookie:t,closed:n}},f=function(){return o(document.querySelectorAll("[data-alert]")).map(function(e){var t=s(e),n=t.alert,r=t.id;return d(n),r})},v=function(e){return function(o){var a=o.target;e.forEach(function(e){var t=e.check,n=e.trigger;if(t(a))n(a,o);else{var r=function e(t,n){return n===document.body?null:t(n.parentNode)?n.parentNode:n.parentNode===document.body?null:e(t,n.parentNode)}(t,a);r&&n(r,o)}})}};var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},m="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,y=(m||g||Function("return this")()).Symbol;var b=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},p=Array.isArray,h=Object.prototype,A=h.hasOwnProperty,E=h.toString,k=y?y.toStringTag:void 0;var j=function(e){var t=A.call(e,k),n=e[k];try{var r=!(e[k]=void 0)}catch(e){}var o=E.call(e);return r&&(t?e[k]=n:delete e[k]),o},O=Object.prototype.toString;var S=function(e){return O.call(e)},w=y?y.toStringTag:void 0;var C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?j(e):S(e)};var B=function(e){return null!=e&&"object"==typeof e};var I=function(e){return"symbol"==typeof e||B(e)&&"[object Symbol]"==C(e)},L=1/0,N=y?y.prototype:void 0,x=N?N.toString:void 0;var M=function e(t){if("string"==typeof t)return t;if(p(t))return b(t,e)+"";if(I(t))return x?x.call(t):"";var n=t+"";return"0"==n&&1/t==-L?"-0":n};var D=function(e){return null==e?"":M(e)},T=0;var R=function(e){var t=++T;return D(e)+t},V=function(e){return{close:document.getElementById(e.dataset.closeModal),lastFocus:document.activeElement,modal:document.getElementById(e.dataset.modal)}},_=function(e,t){return document.getElementById(e.dataset[t])};e.AlertClose=function(e){var t=n(e),a=t.cookie,i=t.closed;return 0<i.length&&function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e.forEach(function(e){l(document.getElementById(e),t)})}(i),{check:c({alert:"Element"}),trigger:function(e,t){t.preventDefault(),e.setAttribute("aria-pressed","true");var n=s(e),r=n.alert,o=n.id;d(r,!1),i.push(o),a.createCookie(JSON.stringify(i),365)}}},e.AlertReset=function(){var n=r("alerts");return{check:c({alertsReset:"Boolean"}),trigger:function(e,t){console.log("Reset clicked??"),t.preventDefault(),n.deleteCookie(),document.location.reload()}}},e.AlertsClear=function(e){var t=n(e),r=t.cookie,o=t.closed;return 0<o.length&&f(),{check:c({alertsClear:"Boolean"}),trigger:function(e,t){t.preventDefault();var n=o.concat(f());r.createCookie(JSON.stringify(n),365)}}},e.Checker=c,e.Cookiebar=function(e){var n=r("permission");return n.getValue()&&l(document.getElementById(e)),{check:c({cookiebar:"Element"}),trigger:function(e,t){t.preventDefault(),function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e&&(e.setAttribute("aria-hidden","true"),e.style.display="none",t&&l(e))}(document.getElementById(e.dataset.cookiebar)),n.createCookie(!0,365)}}},e.EventListener=function(e){if(!Array.isArray(e))throw new Error("Must be array");var t=v(e);return document.body.addEventListener("click",t,!1),function(){document.body.removeEventListener("click",t,!1)}},e.ImageViewer=function(){return{check:c({imageViewer:"Boolean"}),trigger:function(e,t){t.preventDefault(),e.focus();var n,r={alt:(n=e).getAttribute("alt"),imageLarge:n.dataset.imageLarge,modalClass:n.dataset.modalClass},o=r.alt,a=r.imageLarge,i=r.modalClass,u=R("imageViewer");document.body.insertAdjacentHTML("beforeend",function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length?arguments[3]:void 0;return'<section class="modal-overlay '.concat(n,'" id="').concat(t,'" aria-hidden="false" role="dialog" tabindex="1">\n    <div class="modal-content">\n      <button id="').concat(t,'-close" class="close-btn clearfix">x</button>\n      <div class="modal-content-image">\n        <img src="').concat(e,'" alt="').concat(r,'" />\n      </div>\n    </div>\n  </section>')}(a,u,i,o));var c=document.getElementById(u);c.focus();var l,d,s,f=document.getElementById("".concat(u,"-close"));d=c,s=e,l=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1"),d.parentElement.removeChild(d),s.focus()},f.addEventListener("click",l)}}},e.Modal=function(){var e=document.querySelector("[data-modal]");if(e){var t=V(e).modal;t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("role","dialog")}return{check:c({modal:"Element",closeModal:"Element"}),trigger:function(e,t){t.preventDefault();var n,r,o,a,i=V(e),u=i.close,c=i.lastFocus,l=i.modal;(n=l).setAttribute("aria-hidden","false"),n.setAttribute("tabindex","0"),n.focus(),o=l,a=c,r=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),o.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),a.focus()},u.addEventListener("click",r)}}},e.MoreLess=function(){return{check:c({more:"Element",less:"Element"}),trigger:function(e,t){t.preventDefault();var n,r,o=_(e,"more"),a=_(e,"less"),i=(r="true"===(n=e).getAttribute("aria-pressed"),n.setAttribute("aria-pressed",!r),n.textContent=r?"Read More":"Read Less",r);o.setAttribute("aria-hidden",i),a.setAttribute("aria-hidden",!i)}}},e.RemoveElement=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
