!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash/isElement"),require("lodash/isArray"),require("lodash/includes"),require("lodash/isFunction"),require("@djforth/cookie_mgmt_fp")):"function"==typeof define&&define.amd?define(["exports","lodash/isElement","lodash/isArray","lodash/includes","lodash/isFunction","@djforth/cookie_mgmt_fp"],t):t((e=e||self).MorseUtils={},e._isElement,e._isArray,e._includes,e._isFunction,e.CookieMgmt)}(this,function(e,o,a,i,n,t){"use strict";function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i,n=n&&n.hasOwnProperty("default")?n.default:n,t=t&&t.hasOwnProperty("default")?t.default:t;var l=function(e,t){var r={Array:a,Boolean:function(e){return"boolean"==typeof e},Element:o,Number:function(e){return"number"==typeof e},String:function(e){return"string"==typeof e}};if(!r.hasOwnProperty(e))return!1;var n=function(e,t){switch(e){case"Element":return document.getElementById(t);case"String":return t;default:try{return JSON.parse(t)}catch(e){return null}}}(e,t);return(0,r[e])(n)},c=function(n){return function(a){var r,e;if(!a.attributes)return!1;var t=Array.prototype.slice.call(a.attributes);return!!t.reduce(function(e,t){return!!e||(t.nodeName?!!t.nodeName.match(/data/):e)},!1)&&(r=Object.keys(a.dataset),(e=Object.keys(n).reduce(function(e,t){return!!e&&i(r,t)},!0))?Object.entries(n).reduce(function(e,t){var r=u(t,2),n=r[0],o=r[1];return e?l(o,a.dataset[n]):e},!0):e)}};function d(e,t){if(!o(e))return null;var r=e.parentNode||document.body;if(!o(r))return null;r.removeChild(e),n(t)&&t(e)}var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s="object"==typeof r&&r&&r.Object===Object&&r,f="object"==typeof self&&self&&self.Object===Object&&self,m=(s||f||Function("return this")()).Symbol;var v=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},y=Array.isArray,g=Object.prototype,b=g.hasOwnProperty,p=g.toString,h=m?m.toStringTag:void 0;var E=function(e){var t=b.call(e,h),r=e[h];try{var n=!(e[h]=void 0)}catch(e){}var o=p.call(e);return n&&(t?e[h]=r:delete e[h]),o},k=Object.prototype.toString;var A=function(e){return k.call(e)},j=m?m.toStringTag:void 0;var O=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?E(e):A(e)};var w=function(e){return null!=e&&"object"==typeof e};var S=function(e){return"symbol"==typeof e||w(e)&&"[object Symbol]"==O(e)},B=1/0,C=m?m.prototype:void 0,N=C?C.toString:void 0;var x=function e(t){if("string"==typeof t)return t;if(y(t))return v(t,e)+"";if(S(t))return N?N.call(t):"";var r=t+"";return"0"==r&&1/t==-B?"-0":r};var I=function(e){return null==e?"":x(e)},L=0;var _=function(e){var t=++L;return I(e)+t},M=function(e){return{close:document.getElementById(e.dataset.closeModal),lastFocus:document.activeElement,modal:document.getElementById(e.dataset.modal)}},P=function(e){return function(o){var a=o.target;e.forEach(function(e){var t=e.check,r=e.trigger;if(t(a))r(a,o);else{var n=function e(t,r){return r===document.body?null:t(r.parentNode)?r.parentNode:r.parentNode===document.body?null:e(t,r.parentNode)}(t,a);n&&r(n,o)}})}};e.AlertClose=function(){var n=t("alerts"),o=n.getValue()?JSON.parse(n.getValue()):[];return 0<o.length&&o.forEach(function(e){d(document.getElementById(e))}),{check:c({alert:"Element"}),trigger:function(e,t){t.preventDefault();var r=e.dataset.alert;d(document.getElementById(e.dataset.alert)),o.push(r),n.createCookie(JSON.stringify(o),365)}}},e.AlertReset=function(){var r=t("alerts");return{check:c({alertsreset:"Boolean"}),trigger:function(e,t){t.preventDefault(),r.deleteCookie()}}},e.Checker=c,e.Cookiebar=function(e){var r=t("permission");return r.getValue()&&d(document.getElementById(e)),{check:c({cookiebar:"Element"}),trigger:function(e,t){t.preventDefault(),d(document.getElementById(e.dataset.cookiebar)),r.createCookie(!0,365)}}},e.ImageViewer=function(){return{check:c({imageViewer:"Boolean"}),trigger:function(e,t){t.preventDefault(),e.focus();var r,n={alt:(r=e).getAttribute("alt"),imageLarge:r.dataset.imageLarge,modalClass:r.dataset.modalClass},o=n.alt,a=n.imageLarge,i=n.modalClass,u=_("imageViewer");document.body.insertAdjacentHTML("beforeend",function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=3<arguments.length?arguments[3]:void 0;return'<section class="modal-overlay '.concat(r,'" id="').concat(t,'" aria-hidden="false" role="dialog" tabindex="1">\n    <div class="modal-content">\n      <button id="').concat(t,'-close" class="close-btn clearfix">x</button>\n      <div class="modal-content-image">\n        <img src="').concat(e,'" alt="').concat(n,'" />\n      </div>\n    </div>\n  </section>')}(a,u,i,o));var l=document.getElementById(u);l.focus();var c,d,s,f=document.getElementById("".concat(u,"-close"));d=l,s=e,c=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1"),d.parentElement.removeChild(d),s.focus()},f.addEventListener("click",c)}}},e.Modal=function(){var e=document.querySelector("[data-modal]");if(e){var t=M(e).modal;t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"),t.setAttribute("role","dialog")}return{check:c({modal:"Element",closeModal:"Element"}),trigger:function(e,t){t.preventDefault();var r,n,o,a,i=M(e),u=i.close,l=i.lastFocus,c=i.modal;(r=c).setAttribute("aria-hidden","false"),r.setAttribute("tabindex","0"),r.focus(),o=c,a=l,n=function(e){e.preventDefault(),e.target.removeEventListener("click",e.target),o.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),a.focus()},u.addEventListener("click",n)}}},e.EventListener=function(e){if(!a)throw new Error("Must be array");var t=P(e);return document.body.addEventListener("click",t,!1),function(){document.body.removeEventListener("click",t,!1)}},e.RemoveElement=d,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
