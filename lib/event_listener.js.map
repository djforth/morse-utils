{"version":3,"sources":["../src/event_listener.js"],"names":["Error","document","body","addEventListener","removeEventListener","parentNode","target","forEach","check","trigger"],"mappings":"odA6Be,WAAiB,CAC9B,GAAI,UAAJ,CAAc,KAAM,IAAIA,MAAJ,CAAU,eAAV,CAAN,CAEd,GAAI,GAAe,IAAnB,CAGA,MAFAC,UAASC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,MAEA,CAAO,UAAU,CACfF,SAASC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,MACD,CACF,C,mBAjCK,EAAc,aAAc,OAC3B,cAAU,EAAIC,UAAd,CAD2B,CAE5B,EAAM,EAAIA,UAAV,CAF4B,CAEE,EAAIA,UAFN,CAG5B,EAAIA,UAAJ,GAAmBJ,SAASC,IAHA,CAGa,IAHb,CAIzB,IAAmB,EAAIG,UAAvB,CAJyB,CACO,IAIxC,C,CAEK,EAAe,WAAW,CAC9B,MAAO,YAAW,CAChB,GAAI,GAAU,EAAEC,MAAhB,CAEA,EAAQC,OAAR,CAAgB,WAAO,SAChBC,KADgB,KACTC,OADS,CAGrB,GAAI,IAAJ,CACE,MADF,KAEO,CACL,GAAM,GAAM,MAAZ,CADK,GAEI,MACV,CACF,CATD,CAUD,CACF,C","file":"event_listener.js","sourcesContent":["import {\n  isArray\n  , isElement\n} from 'lodash';\n\nconst checkParent = (check, elm)=>{\n  if (!isElement(elm.parentNode)) return null;\n  if (check(elm.parentNode)) return elm.parentNode;\n  if (elm.parentNode === document.body) return null;\n  return checkParent(check, elm.parentNode)\n}\n\nconst manageEvents = (modules)=>{\n  return function(e){\n    let element = e.target;\n\n    modules.forEach((mod)=>{\n      let {check, trigger} = mod;\n\n      if (check(element)){\n        trigger(element, e);\n      } else {\n        const elm = checkParent(check, element);\n        if (elm) trigger(elm, e);\n      }\n    });\n  };\n}\n\nexport default function(modules){\n  if (!isArray) throw new Error('Must be array');\n\n  var eventHandler = manageEvents(modules);\n  document.body.addEventListener('click', eventHandler, false);\n\n  return function(){\n    document.body.removeEventListener('click', eventHandler, false);\n  };\n};\n"]}