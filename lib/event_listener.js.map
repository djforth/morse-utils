{"version":3,"sources":["../src/event_listener.js"],"names":["modules","Error","eventHandler","manageEvents","document","body","addEventListener","removeEventListener","checkParent","check","elm","parentNode","e","element","target","forEach","mod","trigger"],"mappings":";;;;;;kBAyBe,UAASA,OAAT,EAAiB;AAC9B,MAAI,kBAAJ,EAAc,MAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;;AAEd,MAAIC,eAAeC,aAAaH,OAAb,CAAnB;AACAI,WAASC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwCJ,YAAxC,EAAsD,KAAtD;;AAEA,SAAO,YAAU;AACfE,aAASC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,EAA2CL,YAA3C,EAAyD,KAAzD;AACD,GAFD;AAGD,C;;AAlCD;;;;;;AAEA,IAAMM,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAQC,GAAR,EAAc;AAChC,MAAID,MAAMC,IAAIC,UAAV,CAAJ,EAA2B,OAAOD,IAAIC,UAAX;AAC3B,MAAID,IAAIC,UAAJ,KAAmBP,SAASC,IAAhC,EAAsC,OAAO,IAAP;AACtC,SAAOG,YAAYC,KAAZ,EAAmBC,IAAIC,UAAvB,CAAP;AACD,CAJD;;AAMA,IAAMR,eAAe,SAAfA,YAAe,CAACH,OAAD,EAAW;AAC9B,SAAO,UAASY,CAAT,EAAW;AAChB,QAAIC,UAAUD,EAAEE,MAAhB;;AAEAd,YAAQe,OAAR,CAAgB,UAACC,GAAD,EAAO;AAAA,UAChBP,KADgB,GACEO,GADF,CAChBP,KADgB;AAAA,UACTQ,OADS,GACED,GADF,CACTC,OADS;;;AAGrB,UAAIR,MAAMI,OAAN,CAAJ,EAAmB;AACjBI,gBAAQJ,OAAR,EAAiBD,CAAjB;AACD,OAFD,MAEO;AACL,YAAMF,MAAMF,YAAYC,KAAZ,EAAmBI,OAAnB,CAAZ;AACAI,gBAAQP,GAAR,EAAaE,CAAb;AACD;AACF,KATD;AAUD,GAbD;AAcD,CAfD;;AA0BC","file":"event_listener.js","sourcesContent":["import isArray from 'lodash/isArray'\n\nconst checkParent = (check, elm)=>{\n  if (check(elm.parentNode)) return elm.parentNode;\n  if (elm.parentNode === document.body) return null;\n  return checkParent(check, elm.parentNode)\n}\n\nconst manageEvents = (modules)=>{\n  return function(e){\n    let element = e.target;\n\n    modules.forEach((mod)=>{\n      let {check, trigger} = mod;\n\n      if (check(element)){\n        trigger(element, e);\n      } else {\n        const elm = checkParent(check, element);\n        trigger(elm, e);\n      }\n    });\n  };\n}\n\nexport default function(modules){\n  if (!isArray) throw new Error('Must be array');\n\n  var eventHandler = manageEvents(modules);\n  document.body.addEventListener('click', eventHandler, false);\n\n  return function(){\n    document.body.removeEventListener('click', eventHandler, false);\n  };\n};\n"]}