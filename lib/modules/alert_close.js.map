{"version":3,"sources":["../../src/modules/alert_close.js"],"names":["forEach","document","getElementById","getValue","JSON","parse","length","check","alert","trigger","preventDefault","dataset","push","createCookie","stringify"],"mappings":"+iBAKM,EAAc,WAAU,CAC5B,EAAOA,OAAP,CAAe,WAAM,CACnB,cAAQC,SAASC,cAAT,GAAR,CACD,CAFD,CAGD,C,WAEc,UAAI,CACjB,GAAI,GAAe,cAAW,QAAX,CAAnB,CACI,EAAQ,EAAaC,QAAb,EADZ,CAEI,EAAS,EAAUC,KAAKC,KAAL,CAAW,EAAaF,QAAb,EAAX,CAAV,GAFb,CAOA,MAJmB,EAAhB,GAAOG,MAIV,EAHE,IAGF,CAAO,CACLC,MAAO,cAAQ,CAACC,MAAO,SAAR,CAAR,CADF,CAEHC,QAAS,qBAAe,CACxB,EAAEC,cAAF,EADwB,CAGxB,GAAM,GAAK,EAAGC,OAAH,CAAWH,KAAtB,CACA,cAAQP,SAASC,cAAT,CAAwB,EAAGS,OAAH,CAAWH,KAAnC,CAAR,CAJwB,CAKxB,EAAOI,IAAP,GALwB,CAMxB,EAAaC,YAAb,CAA0BT,KAAKU,SAAL,GAA1B,CAAkD,GAAlD,CACD,CATI,CAWR,C","file":"alert_close.js","sourcesContent":["import checker from '../checker';\nimport remover from '../remove_element';\n\nimport CookieMgmt from '@djforth/cookie_mgmt_fp';\n\nconst closeAlerts = (closed)=>{\n  closed.forEach((id)=>{\n    remover(document.getElementById(id));\n  });\n};\n\nexport default ()=>{\n  var alertsCookie = CookieMgmt('alerts');\n  var value = alertsCookie.getValue();\n  var closed = (value) ? JSON.parse(alertsCookie.getValue()) : [];\n  if(closed.length > 0){\n    closeAlerts(closed);\n  }\n\n  return {\n    check: checker({alert: 'Element'})\n    , trigger: function(el, e){\n      e.preventDefault();\n\n      const id = el.dataset.alert;\n      remover(document.getElementById(el.dataset.alert));\n      closed.push(id);\n      alertsCookie.createCookie(JSON.stringify(closed), 365);\n    }\n  };\n};\n"]}