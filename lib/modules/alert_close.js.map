{"version":3,"sources":["../../src/modules/alert_close.js"],"names":["checker","require","remover","CookieMgmt","closeAlerts","closed","forEach","id","document","getElementById","module","exports","alertsCookie","value","getValue","JSON","parse","length","check","alert","trigger","el","e","preventDefault","dataset","push","createCookie","stringify"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,YAAR,CAAd;AAAA,IACIC,UAAUD,QAAQ,mBAAR,CADd;;AAGA,IAAIE,aAAaF,QAAQ,yBAAR,CAAjB;;AAEA,IAAMG,cAAc,SAAdA,WAAc,CAACC,MAAD,EAAU;AAC5BA,SAAOC,OAAP,CAAe,UAACC,EAAD,EAAM;AACnBL,YAAQM,SAASC,cAAT,CAAwBF,EAAxB,CAAR;AACD,GAFD;AAGD,CAJD;;AAMAG,OAAOC,OAAP,GAAiB,YAAU;AACzB,MAAIC,eAAeT,WAAW,QAAX,CAAnB;AACA,MAAIU,QAAQD,aAAaE,QAAb,EAAZ;AACA,MAAIT,SAAUQ,KAAD,GAAUE,KAAKC,KAAL,CAAWJ,aAAaE,QAAb,EAAX,CAAV,GAAgD,EAA7D;AACA,MAAGT,OAAOY,MAAP,GAAgB,CAAnB,EAAqB;AACnBb,gBAAYC,MAAZ;AACD;;AAED,SAAO;AACLa,WAAOlB,QAAQ,EAACmB,OAAO,SAAR,EAAR,CADF;AAEHC,aAAS,iBAASC,EAAT,EAAaC,CAAb,EAAe;AACxBA,QAAEC,cAAF;;AAEA,UAAMhB,KAAKc,GAAGG,OAAH,CAAWL,KAAtB;AACAjB,cAAQM,SAASC,cAAT,CAAwBY,GAAGG,OAAH,CAAWL,KAAnC,CAAR;AACAd,aAAOoB,IAAP,CAAYlB,EAAZ;AACAK,mBAAac,YAAb,CAA0BX,KAAKY,SAAL,CAAetB,MAAf,CAA1B,EAAkD,GAAlD;AACD;AATI,GAAP;AAWD,CAnBD","file":"alert_close.js","sourcesContent":["var checker = require('../checker')\n  , remover = require('../remove_element');\n\nvar CookieMgmt = require('@djforth/cookie_mgmt_fp');\n\nconst closeAlerts = (closed)=>{\n  closed.forEach((id)=>{\n    remover(document.getElementById(id));\n  });\n};\n\nmodule.exports = function(){\n  var alertsCookie = CookieMgmt('alerts');\n  var value = alertsCookie.getValue();\n  var closed = (value) ? JSON.parse(alertsCookie.getValue()) : [];\n  if(closed.length > 0){\n    closeAlerts(closed);\n  }\n\n  return {\n    check: checker({alert: 'Element'})\n    , trigger: function(el, e){\n      e.preventDefault();\n\n      const id = el.dataset.alert;\n      remover(document.getElementById(el.dataset.alert));\n      closed.push(id);\n      alertsCookie.createCookie(JSON.stringify(closed), 365);\n    }\n  };\n};\n"]}