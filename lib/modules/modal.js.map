{"version":3,"sources":["../../src/modules/modal.js"],"names":["closeModal","modal","lastFocus","e","preventDefault","target","removeEventListener","setAttribute","focus","closeBtn","close","closer","addEventListener","getElements","el","document","getElementById","dataset","activeElement","openModal","check","trigger"],"mappings":";;;;;;AACA;;;;;;AAEA,IAAMA,aAAa,SAAbA,UAAa,CAACC,KAAD,EAAQC,SAAR,EAAoB;AACrC,SAAO,UAACC,CAAD,EAAK;AACVA,MAAEC,cAAF;AACAD,MAAEE,MAAF,CAASC,mBAAT,CAA6B,OAA7B;AACAL,UAAMM,YAAN,CAAmB,aAAnB,EAAkC,MAAlC;AACAN,UAAMM,YAAN,CAAmB,UAAnB,EAA+B,IAA/B;AACAL,cAAUM,KAAV;AACD,GAND;AAOD,CARD;;AAUA,IAAMC,WAAW,SAAXA,QAAW,CAACC,KAAD,EAAQC,MAAR,EAAiB;AAChCD,QAAME,gBAAN,CAAuB,OAAvB,EAAgCD,MAAhC;AACD,CAFD;;AAIA,IAAME,cAAc,SAAdA,WAAc,CAACC,EAAD,EAAM;AACxB,SAAO;AACLJ,WAAOK,SAASC,cAAT,CAAwBF,GAAGG,OAAH,CAAWjB,UAAnC,CADF;AAEHE,eAAWa,SAASG,aAFjB;AAGHjB,WAAOc,SAASC,cAAT,CAAwBF,GAAGG,OAAH,CAAWhB,KAAnC;AAHJ,GAAP;AAKD,CAND;;AAQA,IAAMkB,YAAY,SAAZA,SAAY,CAAClB,KAAD,EAAS;AACzBA,QAAMM,YAAN,CAAmB,aAAnB,EAAkC,OAAlC;AACAN,QAAMM,YAAN,CAAmB,UAAnB,EAA+B,GAA/B;AACAN,QAAMO,KAAN;AACD,CAJD;;kBAMe,YAAI;AACjB,SAAO;AACLY,WAAO,uBAAQ,EAACnB,OAAO,SAAR,EAAmBD,YAAY,SAA/B,EAAR,CADF;AAEHqB,aAAS,iBAASP,EAAT,EAAaX,CAAb,EAAe;AACxBA,QAAEC,cAAF;;AADwB,yBAMpBS,YAAYC,EAAZ,CANoB;AAAA,UAGtBJ,KAHsB,gBAGtBA,KAHsB;AAAA,UAIpBR,SAJoB,gBAIpBA,SAJoB;AAAA,UAKpBD,KALoB,gBAKpBA,KALoB;;AAQxBkB,gBAAUlB,KAAV;AACAQ,eAASC,KAAT,EAAgBV,WAAWC,KAAX,EAAkBC,SAAlB,CAAhB;AACD;AAZI,GAAP;AAcD,C","file":"modal.js","sourcesContent":["\nimport checker  from '../checker';\n\nconst closeModal = (modal, lastFocus)=>{\n  return (e)=>{\n    e.preventDefault();\n    e.target.removeEventListener('click', this);\n    modal.setAttribute('aria-hidden', 'true');\n    modal.setAttribute('tabindex', '-1');\n    lastFocus.focus();\n  };\n};\n\nconst closeBtn = (close, closer)=>{\n  close.addEventListener('click', closer);\n};\n\nconst getElements = (el)=>{\n  return {\n    close: document.getElementById(el.dataset.closeModal)\n    , lastFocus: document.activeElement\n    , modal: document.getElementById(el.dataset.modal)\n  };\n};\n\nconst openModal = (modal)=>{\n  modal.setAttribute('aria-hidden', 'false');\n  modal.setAttribute('tabindex', '0');\n  modal.focus();\n};\n\nexport default ()=>{\n  return {\n    check: checker({modal: 'Element', closeModal: 'Element'})\n    , trigger: function(el, e){\n      e.preventDefault();\n      let {\n        close\n        , lastFocus\n        , modal\n      } = getElements(el);\n\n      openModal(modal);\n      closeBtn(close, closeModal(modal, lastFocus));\n    }\n  };\n};\n"]}