{"version":3,"sources":["../../src/modules/modal.js"],"names":["preventDefault","target","removeEventListener","setAttribute","focus","addEventListener","close","document","getElementById","dataset","closeModal","lastFocus","activeElement","modal","check","trigger"],"mappings":"oYAGM,EAAa,aAAoB,CACrC,MAAO,YAAK,CACV,EAAEA,cAAF,EADU,CAEV,EAAEC,MAAF,CAASC,mBAAT,CAA6B,OAA7B,QAFU,CAGV,EAAMC,YAAN,CAAmB,aAAnB,CAAkC,MAAlC,CAHU,CAIV,EAAMA,YAAN,CAAmB,UAAnB,CAA+B,IAA/B,CAJU,CAKV,EAAUC,KAAV,EACD,CACF,C,CAEK,EAAW,aAAiB,CAChC,EAAMC,gBAAN,CAAuB,OAAvB,GACD,C,CAEK,EAAc,WAAM,CACxB,MAAO,CACLC,MAAOC,SAASC,cAAT,CAAwB,EAAGC,OAAH,CAAWC,UAAnC,CADF,CAEHC,UAAWJ,SAASK,aAFjB,CAGHC,MAAON,SAASC,cAAT,CAAwB,EAAGC,OAAH,CAAWI,KAAnC,CAHJ,CAKR,C,CAEK,EAAY,WAAS,CACzB,EAAMV,YAAN,CAAmB,aAAnB,CAAkC,OAAlC,CADyB,CAEzB,EAAMA,YAAN,CAAmB,UAAnB,CAA+B,GAA/B,CAFyB,CAGzB,EAAMC,KAAN,EACD,C,WAEc,UAAI,CACjB,MAAO,CACLU,MAAO,cAAQ,CAACD,MAAO,SAAR,CAAmBH,WAAY,SAA/B,CAAR,CADF,CAEHK,QAAS,qBAAe,CAExB,EAAEf,cAAF,EAFwB,OAOpB,IAPoB,KAItBM,KAJsB,KAKpBK,SALoB,KAMpBE,KANoB,CASxB,IATwB,CAUxB,IAAgB,MAAhB,CACD,CAbI,CAeR,C","file":"modal.js","sourcesContent":["\nimport checker  from '../checker';\n\nconst closeModal = (modal, lastFocus)=>{\n  return (e)=>{\n    e.preventDefault();\n    e.target.removeEventListener('click', this);\n    modal.setAttribute('aria-hidden', 'true');\n    modal.setAttribute('tabindex', '-1');\n    lastFocus.focus();\n  };\n};\n\nconst closeBtn = (close, closer)=>{\n  close.addEventListener('click', closer);\n};\n\nconst getElements = (el)=>{\n  return {\n    close: document.getElementById(el.dataset.closeModal)\n    , lastFocus: document.activeElement\n    , modal: document.getElementById(el.dataset.modal)\n  };\n};\n\nconst openModal = (modal)=>{\n  modal.setAttribute('aria-hidden', 'false');\n  modal.setAttribute('tabindex', '0');\n  modal.focus();\n};\n\nexport default ()=>{\n  return {\n    check: checker({modal: 'Element', closeModal: 'Element'})\n    , trigger: function(el, e){\n\n      e.preventDefault();\n      let {\n        close\n        , lastFocus\n        , modal\n      } = getElements(el);\n\n      openModal(modal);\n      closeBtn(close, closeModal(modal, lastFocus));\n    }\n  };\n};\n"]}