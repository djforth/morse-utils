{"version":3,"file":"index.js","sources":["src/checker.js","src/remove_element.js","src/modules/helpers/alert_helpers.js","src/modules/alerts_clear.js","src/event_listener.js","node_modules/lodash/_freeGlobal.js","node_modules/lodash/_root.js","node_modules/lodash/_Symbol.js","node_modules/lodash/_arrayMap.js","node_modules/lodash/isArray.js","node_modules/lodash/_getRawTag.js","node_modules/lodash/_objectToString.js","node_modules/lodash/_baseGetTag.js","node_modules/lodash/isObjectLike.js","node_modules/lodash/isSymbol.js","node_modules/lodash/_baseToString.js","node_modules/lodash/toString.js","node_modules/lodash/uniqueId.js","src/modules/modal.js","src/modules/more_less.js","src/modules/alert_close.js","src/modules/alert_reset.js","src/modules/cookiebar.js","src/modules/image_viewer.js"],"sourcesContent":["import { includes, isArray, isElement } from \"lodash\";\n\nconst setData = (type, data) => {\n  switch (type) {\n    case \"Element\":\n      return document.getElementById(data); //document.getElementById(data);\n    case \"String\":\n      return data;\n    default:\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        return null;\n      }\n  }\n};\n\nexport const checker = (type, dataAttr) => {\n  const checks = {\n    Array: isArray,\n    Boolean: d => typeof d === \"boolean\",\n    Element: isElement,\n    Number: d => typeof d === \"number\",\n    String: d => typeof d === \"string\"\n  };\n\n  if (!checks.hasOwnProperty(type)) return false;\n  const data = setData(type, dataAttr);\n  const check = checks[type];\n  return check(data);\n};\n\nconst checkAttributes = attrs =>\n  attrs.reduce((ds, attr) => {\n    if (ds) return true;\n    if (!attr.nodeName) return ds;\n    return attr.nodeName.match(/data/) ? true : false;\n  }, false);\n\nexport default checks => el => {\n  let keys, valid, chKeys;\n  if (!el && !el.attributes) return false;\n  const attrs = [...el.attributes];\n  if (!checkAttributes(attrs)) return false;\n  keys = Object.keys(el.dataset);\n  chKeys = Object.keys(checks);\n\n  valid = chKeys.reduce((test, ch) => {\n    if (!test) return false;\n    return includes(keys, ch);\n  }, true);\n  if (!valid) return valid;\n\n  return Object.entries(checks).reduce((val, [k, v]) => {\n    if (!val) return val;\n    return checker(v, el.dataset[k]);\n  }, true);\n};\n","import { isElement, isFunction } from 'lodash';\n\nexport default function(el, cb) {\n  if (!isElement(el)) return null;\n  const parent = el.parentNode || document.body;\n  if (!isElement(parent)) return null;\n  parent.removeChild(el);\n  if (isFunction(cb)) cb(el);\n}\n","import CookieMgmt from \"@djforth/cookie_mgmt_fp\";\nimport remover from \"../../remove_element\";\n\nexport const closeAlert = (el, remove = true) => {\n  if (el) {\n    el.setAttribute(\"aria-hidden\", \"true\");\n    if (remove) remover(el);\n  }\n};\n\nexport const closeAlerts = (alerts, remove = true) => {\n  alerts.forEach(id => {\n    remover(document.getElementById(id), remove);\n  });\n};\n\nexport const getAlert = el => {\n  const id = el.dataset.alert;\n  const alert = document.getElementById(id);\n\n  return { alert, id };\n};\n\nexport const getCookie = (name = \"alerts\") => {\n  const cookie = CookieMgmt(name);\n  const value = cookie.getValue();\n  const closed = value ? JSON.parse(cookie.getValue()) : [];\n  return { cookie, closed };\n};\n","import checker from \"../checker\";\n\nimport { closeAlert, getAlert, getCookie } from \"./helpers/alert_helpers\";\n\nconst closeAlerts = () => {\n  const alerts = [...document.querySelectorAll(\"[data-alert]\")];\n\n  return alerts.map(el => {\n    const { alert, id } = getAlert(el);\n    closeAlert(alert);\n    return id;\n  });\n};\n\nexport default name => {\n  const { cookie, closed } = getCookie(name);\n\n  if (closed.length > 0) {\n    closeAlerts(closed);\n  }\n\n  return {\n    check: checker({ alertsClear: \"Boolean\" }),\n    trigger: function(el, e) {\n      e.preventDefault();\n      const updated = closed.concat(closeAlerts());\n      cookie.createCookie(JSON.stringify(updated), 365);\n    }\n  };\n};\n","import isArray from 'lodash/isArray';\n\nconst checkParent = (check, elm) => {\n  if (elm === document.body) return null;\n  if (check(elm.parentNode)) return elm.parentNode;\n  if (elm.parentNode === document.body) return null;\n  return checkParent(check, elm.parentNode);\n};\n\nconst manageEvents = modules =>\n  function(e) {\n    const element = e.target;\n\n    modules.forEach(({ check, trigger }) => {\n      if (check(element)) {\n        trigger(element, e);\n      } else {\n        const elm = checkParent(check, element);\n        if (elm) trigger(elm, e);\n      }\n    });\n  };\n\nexport default function(modules) {\n  if (!isArray) throw new Error('Must be array');\n\n  const eventHandler = manageEvents(modules);\n  document.body.addEventListener('click', eventHandler, false);\n\n  return function() {\n    document.body.removeEventListener('click', eventHandler, false);\n  };\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","import checker from '../checker';\n\nconst closeModal = (modal, lastFocus) => e => {\n  e.preventDefault();\n  e.target.removeEventListener('click', e.target);\n  modal.setAttribute('aria-hidden', 'true');\n  modal.setAttribute('tabindex', '-1');\n  lastFocus.focus();\n};\n\nconst closeBtn = (close, closer) => {\n  close.addEventListener('click', closer);\n};\n\nconst getElements = el => ({\n  close: document.getElementById(el.dataset.closeModal),\n  lastFocus: document.activeElement,\n  modal: document.getElementById(el.dataset.modal),\n});\n\nconst openModal = modal => {\n  modal.setAttribute('aria-hidden', 'false');\n  modal.setAttribute('tabindex', '0');\n  modal.focus();\n};\n\nexport default () => {\n  const btnEl = document.querySelector('[data-modal]');\n\n  if (btnEl) {\n    const { modal: modalEl } = getElements(btnEl);\n\n    modalEl.setAttribute('aria-hidden', 'true');\n    modalEl.setAttribute('tabindex', '-1');\n    modalEl.setAttribute('role', 'dialog');\n  }\n  return {\n    check: checker({ modal: 'Element', closeModal: 'Element' }),\n    trigger: (el, e) => {\n      e.preventDefault();\n      const { close, lastFocus, modal } = getElements(el);\n\n      openModal(modal);\n      closeBtn(close, closeModal(modal, lastFocus));\n    },\n  };\n};\n","import checker from \"../checker\";\n\nconst moreText = \"Read More\";\nconst lessText = \"Read Less\";\n\nconst getElement = (el, attr) => {\n  return document.getElementById(el.dataset[attr]);\n};\n\nconst getPressed = el => {\n  const pressed = el.getAttribute(\"aria-pressed\") === \"true\";\n\n  el.setAttribute(\"aria-pressed\", !pressed);\n  el.textContent = pressed ? moreText : lessText;\n  return pressed;\n};\n\nexport default () => {\n  return {\n    check: checker({ more: \"Element\", less: \"Element\" }),\n    trigger: (el, e) => {\n      e.preventDefault();\n      const more = getElement(el, \"more\");\n      const less = getElement(el, \"less\");\n\n      const pressed = getPressed(el);\n\n      more.setAttribute(\"aria-hidden\", pressed);\n\n      less.setAttribute(\"aria-hidden\", !pressed);\n    }\n  };\n};\n","import checker from \"../checker\";\n\nimport {\n  closeAlert,\n  closeAlerts,\n  getAlert,\n  getCookie\n} from \"./helpers/alert_helpers\";\n\nexport default name => {\n  const { cookie, closed } = getCookie(name);\n\n  if (closed.length > 0) {\n    closeAlerts(closed);\n  }\n\n  return {\n    check: checker({ alert: \"Element\" }),\n    trigger: (el, e) => {\n      e.preventDefault();\n      el.setAttribute(\"aria-pressed\", \"true\");\n\n      const { alert, id } = getAlert(el);\n      closeAlert(alert, false);\n\n      closed.push(id);\n      cookie.createCookie(JSON.stringify(closed), 365);\n    }\n  };\n};\n","import checker from \"../checker\";\n\nimport CookieMgmt from \"@djforth/cookie_mgmt_fp\";\n\nexport default (key = \"alerts\") => {\n  const alertsCookie = CookieMgmt(\"alerts\");\n  return {\n    check: checker({ alertsReset: \"Boolean\" }),\n    trigger: function(el, e) {\n      e.preventDefault();\n      alertsCookie.deleteCookie();\n      document.location.reload();\n    }\n  };\n};\n","import CookieMgmt from '@djforth/cookie_mgmt_fp';\nimport checker from '../checker';\nimport remover from '../remove_element';\n\nexport default id => {\n  const permission = CookieMgmt('permission');\n  if (permission.getValue()) remover(document.getElementById(id));\n  return {\n    check: checker({ cookiebar: 'Element' }),\n    trigger: (el, e) => {\n      e.preventDefault();\n      remover(document.getElementById(el.dataset.cookiebar));\n      console.log('create');\n      permission.createCookie(true, 365);\n    },\n  };\n};\n","import checker from '../checker';\nimport { uniqueId } from 'lodash';\n\nconst closeModal = (modal, lastFocus) => e => {\n  e.preventDefault();\n  e.target.removeEventListener('click', e.target);\n  modal.setAttribute('aria-hidden', 'true');\n  modal.setAttribute('tabindex', '-1');\n  modal.parentElement.removeChild(modal);\n  lastFocus.focus();\n};\n\nconst closeBtn = (close, closer) => {\n  close.addEventListener('click', closer);\n};\n\nconst modalTemplate = (\n  imagePath,\n  id,\n  modalClass = '',\n  alt\n) => `<section class=\"modal-overlay ${modalClass}\" id=\"${id}\" aria-hidden=\"false\" role=\"dialog\" tabindex=\"1\">\n    <div class=\"modal-content\">\n      <button id=\"${id}-close\" class=\"close-btn clearfix\">x</button>\n      <div class=\"modal-content-image\">\n        <img src=\"${imagePath}\" alt=\"${alt}\" />\n      </div>\n    </div>\n  </section>`;\n\nconst getElements = el => ({\n  alt: el.getAttribute('alt'),\n  imageLarge: el.dataset.imageLarge,\n  modalClass: el.dataset.modalClass,\n});\n\nexport default () => ({\n  check: checker({ imageViewer: 'Boolean' }),\n  trigger: (el, e) => {\n    e.preventDefault();\n    el.focus();\n    const { alt, imageLarge, modalClass } = getElements(el);\n\n    const id = uniqueId('imageViewer');\n    document.body.insertAdjacentHTML('beforeend', modalTemplate(imageLarge, id, modalClass, alt));\n    const modal = document.getElementById(id);\n    modal.focus();\n\n    const close = document.getElementById(`${id}-close`);\n    closeBtn(close, closeModal(modal, el));\n  },\n});\n"],"names":["checker","type","dataAttr","checks","Array","Boolean","d","Element","Number","String","hasOwnProperty","data","document","getElementById","JSON","parse","e","setData","check","el","keys","valid","attributes","attrs","reduce","ds","attr","nodeName","match","Object","dataset","test","ch","_includes","entries","val","k","v","cb","_isElement","parent","parentNode","body","removeChild","_isFunction","closeAlert","remove","setAttribute","remover","getAlert","id","alert","getCookie","name","cookie","CookieMgmt","closed","getValue","closeAlerts","querySelectorAll","map","manageEvents","modules","element","target","forEach","trigger","elm","checkParent","global","freeSelf","self","freeGlobal","Function","Symbol","array","iteratee","index","length","result","isArray","objectProto","prototype","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","value","isOwn","call","tag","unmasked","getRawTag","objectToString","isObjectLike","baseGetTag","INFINITY","symbolProto","symbolToString","baseToString","arrayMap","isSymbol","idCounter","prefix","getElements","close","closeModal","lastFocus","activeElement","modal","getElement","alerts","preventDefault","push","createCookie","stringify","alertsCookie","alertsReset","deleteCookie","location","reload","alertsClear","updated","concat","permission","cookiebar","console","log","Error","eventHandler","addEventListener","removeEventListener","imageViewer","focus","alt","getAttribute","imageLarge","modalClass","_uniqueId","insertAdjacentHTML","imagePath","modalTemplate","closer","parentElement","btnEl","querySelector","modalEl","more","less","pressed","textContent"],"mappings":"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"}